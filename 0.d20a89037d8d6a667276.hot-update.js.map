{"version":3,"sources":["webpack:///./actions/index.js?bf21","webpack:///./containers/GMap.js?f9df","webpack:///./containers/MapsAddrForm.js?056c"],"names":[],"mappings":"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","file":"0.d20a89037d8d6a667276.hot-update.js","sourcesContent":["//import loadGoogleMapsApi from 'load-google-maps-api';\n\nexport function changeAddress(address) {\n  return {\n    type:'CHANGE_ADDRESS',\n    address\n  }\n}\n\nexport function changeDistrict(district) {\n  return {\n    type:'CHANGE_DISTRICT',\n    district\n  }\n}\n\nexport function changeLatLng(latLng) {\n  return {\n    type: 'CHANGE_LAT_LNG',\n    latLng\n  }\n}\n\n//export function initializeMaps() {\n//  return {\n//    type:'INIT_MAPS',\n//    payload: loadGoogleMapsApi({\n//      key:'AIzaSyA29vc_lG5Rk4DqLE4yQrEtsuqPEZZxQbw'\n//    })\n//  };\n//}\n\n\n/** WEBPACK FOOTER **\n ** ./actions/index.js\n **/","import React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { initializeMaps, changeAddress, changeLatLng, changeDistrict } from '../actions';\n\n\nclass GMap extends Component {\n  constructor(props) {\n    super(props);\n    this.initMap = this.initMap.bind(this);\n    this.initGeocode = this.initGeocode.bind(this);\n  }\n  \n  componentDidMount() {\n    const { fetchingMaps, mapsLoaded, dispatch, initialize } = this.props;\n    if (!fetchingMaps || !mapsLoaded) {\n      dispatch(initializeMaps());\n    }\n    else {\n      this.initMap();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { mapsLoaded } = nextProps;\n    if (!this.props.mapsLoaded && mapsLoaded) { // load finished\n      this.initMap();\n    }\n    else if (mapsLoaded && this.mapsLoaded) {\n      this.initGeocode(nextProps);\n    }\n  }\n\n  initGeocode(nextProps) {\n    this.geocoder.geocode({address:nextProps.address}, (results,status) => {\n      if(status == this.props.mapService.GeocoderStatus.OK) {\n        console.log(\"Component props received.\");\n        dispatch(changeAddress(nextProps.address));\n        dispatch(changeLatLng(results[0].geometry.location));\n        this.map.setCenter(results[0].geometry.location);\n        this.map.setZoom(14);\n        this.marker.setMap(null);\n        this.marker = this.props.mapsService.Marker({\n           position: results[0].geometry.location,\n        });\n        this.marker.setMap(this.map);\n      }\n      else {\n        console.log(\"No update.\");\n        console.log(nextProps.address);\n        console.log(status);\n        console.log(\"^ address\");\n      }\n    });\n  }\n\n  initMap() {\n    const { mapService } = this.props;\n    this.map = new mapService.Map(this.refs.map, {\n      center: this.props.latLng,\n      zoom: 6,\n      mapTypeId: mapService.ROADMAP,\n    });\n    this.geocoder = new mapService.Geocoder();\n    this.marker = new mapService.Marker({});\n    this.congLayer = new mapService.KmlLayer({\n      url: 'http://www.google.com/maps/d/u/0/kml?mid=1g4GcUoUk9gcYd5ZNHdW3gOFTdAk',\n      suppressInfoWindows: true,\n      map: this.map\n    });\n    this.congLayer.addListener('click', (kmlEvent) => {\n      console.log('Got clicked');\n      let congNumber = kmlEvent.featureData.name;\n      dispatch(changeDistrict(congNumber));\n    });\n    console.log(\"Component mounted.\");\n  }\n\n  render() {\n    const mapStyle = {\n      width: 800,\n      height: 600,\n      border: '1px solid black',\n      display: 'block'\n    };\n    \n    return (\n      <div>\n        <div ref=\"map\" style={mapStyle}></div>\n      </div>\n    );\n  }\n}\n\nGMap.propTypes = {\n  address: PropTypes.string.isRequired,\n  fetchingMaps: PropTypes.bool.isRequired,\n  mapsLoaded: PropTypes.bool.isRequired,\n  latLng: PropTypes.object.isRequired,\n  mapService: PropTypes.object,\n  dispatch: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  const {address, latLng} = state.infoChange;\n  const {fetchingMaps,mapsLoaded,mapService} = state.createMap;\n  return {\n    address,\n    fetchingMaps,\n    mapsLoaded,\n    mapService,\n    latLng\n  };\n};\n\nexport default connect(mapStateToProps)(GMap);\n\n\n/** WEBPACK FOOTER **\n ** ./containers/GMap.js\n **/","import React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { changeAddress } from '../actions';\n\nclass MapsAddrForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addressField: \"\"\n    };\n    this.handleAddrChange = this.handleAddrChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleAddrChange(e) {\n    this.setState({addressField: e.target.value});\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    var address = this.state.addressField.trim();\n    if(!address) {\n      return;\n    }\n    const { dispatch } = this.props;\n    dispatch(changeAddress(this.state.addressField));\n    this.setState({addressField: \"\"});\n  }\n\n  render() {\n    return (\n      <form className=\"addrForm\" onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Your address\"\n          value={this.state.addressField}\n          onChange={this.handleAddrChange}\n        />\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    );\n  }\n}\n\nMapsAddrForm.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect()(MapsAddrForm);\n\n\n/** WEBPACK FOOTER **\n ** ./containers/MapsAddrForm.js\n **/"],"sourceRoot":""}